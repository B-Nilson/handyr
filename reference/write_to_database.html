<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write data to a database — write_to_database • handyr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write data to a database — write_to_database"><meta property="og:description" content="Write data to a database, with options to insert new data, update existing data, and create a new table."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">handyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/B-Nilson/handyr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write data to a database</h1>
    <small class="dont-index">Source: <a href="https://github.com/B-Nilson/handyr/blob/main/R/write_to_database.R" class="external-link"><code>R/write_to_database.R</code></a></small>
    <div class="hidden name"><code>write_to_database.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write data to a database, with options to insert new data, update existing data, and create a new table.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_to_database</span><span class="op">(</span></span>
<span>  <span class="va">db</span>,</span>
<span>  <span class="va">table_name</span>,</span>
<span>  <span class="va">new_data</span>,</span>
<span>  <span class="va">primary_keys</span>,</span>
<span>  unique_indexes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  insert_new <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  update_duplicates <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-db">db<a class="anchor" aria-label="anchor" href="#arg-db"></a></dt>
<dd><p>A database connection or path to database (if sqlite or duckdb file extension).</p></dd>


<dt id="arg-table-name">table_name<a class="anchor" aria-label="anchor" href="#arg-table-name"></a></dt>
<dd><p>A character string specifying the table to write to.</p></dd>


<dt id="arg-new-data">new_data<a class="anchor" aria-label="anchor" href="#arg-new-data"></a></dt>
<dd><p>A data frame to write to the table.</p></dd>


<dt id="arg-primary-keys">primary_keys<a class="anchor" aria-label="anchor" href="#arg-primary-keys"></a></dt>
<dd><p>A character vector of column names to use as the primary key, the main identifier of individual rows in a table.
Multiple columns can be specified and uniqueness will be assessed based on the combination of columns.
(e.g. <code>primary_keys = c("col1", "col2")</code> will add a primary key on the combination of <code>col1</code> and <code>col2</code>).</p></dd>


<dt id="arg-unique-indexes">unique_indexes<a class="anchor" aria-label="anchor" href="#arg-unique-indexes"></a></dt>
<dd><p>A list of character vector(s) of column names to use as unique indexes.
These will be added to the table, in addition to the primary key.
Multiple columns can be specified and uniqueness will be assessed based on the combination of columns.
(e.g. <code>unique_indexes = list(c("col1", "col2"))</code> will add a unique index on the combination of <code>col1</code> and <code>col2</code>.).
If <code>NULL</code> (the default), no unique indexes will be added.</p></dd>


<dt id="arg-insert-new">insert_new<a class="anchor" aria-label="anchor" href="#arg-insert-new"></a></dt>
<dd><p>A logical value indicating if new data should be inserted into the existing table.
If <code>FALSE</code>, no new data will be inserted, only existing rows will be updated if <code>update_duplicates = TRUE</code>.</p></dd>


<dt id="arg-update-duplicates">update_duplicates<a class="anchor" aria-label="anchor" href="#arg-update-duplicates"></a></dt>
<dd><p>A logical value indicating if existing rows should be updated with new data.
If <code>FALSE</code>, no existing rows will be updated. Only new data will be inserted if <code>insert_new = TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An invisible db connection.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>It will create the table and insert <code>new_data</code> if the table does not already exist.
Otherwise:</p><ul><li><p>If <code>insert_new = TRUE</code>, <code>new_data</code> will be inserted into the existing table.</p></li>
<li><p>If <code>update_duplicates = TRUE</code>, existing data will be updated with the overlap of <code>new_data</code>.</p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Brayden Nilson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

